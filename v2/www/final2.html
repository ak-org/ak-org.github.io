<!DOCTYPE html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="Visualization Project">
<meta name="author" content="Ashish Kumar">
<link rel="icon" href="../../favicon.ico">




<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
      crossorigin="anonymous">
<link href="css/starter-template.css" rel="stylesheet">

<link href="css/d3-tip.css" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<title>Final Project for CS498 - Data Visualization </title>

</head>
<body>
  <!-- Fixed navbar -->

  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">CS498 - Final Project</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li ><a href="stem.html">Home</a></li>
          <li ><a href="second.html">Scene2</a></li>
          <li ><a href="jumpoff.html">Scene3</a></li>
          <li class="active"><a href="final2.html">Final</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">
    <div class="alert alert-success" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <strong></strong> Explore the maps and charts by moving mouse over them. Click on a state to learn more about that state.</br>
        If the page doesn't render properly on first load, please refresh.
    </div>
    <div class="page-header" style="display:none">
      <h3>Poverty and Heart disease mortality rate in United States</h3>
    </div>
    <div class="container">
      <div class="col-lg-6">
        <h4 class="text-center">Poverty Level</h4>
        <h5 class="text-center">(Excluding US Territories)</h5>
        <div id="map1-svg">
        </div>
        <svg class="map1-legend">

        </svg>
      </div>
      <div class="col-lg-6">
        <h4 class="text-center">Heart Disease Mortality </h4>
        <h5 class="text-center">(Adults 35 years or older)</h5>
        <div id="map2-svg"></div>
        <svg class="map2-legend" >

        </svg>
      </div>
    </div>
    <div class="container">

      <div class="col-lg-6">

        <h4 class="text-center" id="barTitle1">Poverty Level in a State for various age groups</h4>
        <div class="container">
              <div class="chart1" id="chart1">
                <svg class="svgBar1">

                </svg>

              </div>
        </div>
      </div>

      <div class="col-lg-6">
        <h4 class="text-center" id="barTitle2">Heart Disease Mortality Rate</h4>
        <div class="container">
          <div class="chart2" id="chart2">
            <svg class="svgBar2">

            </svg>
          </div>
        </div>

      </div>
    </div>
    <div class="container" id="aboutVisualization" style="padding-bottom: 30px;">
      <button class="accordion">About the Visualization, Final Chapter</button>
         <div class="panel" >
           <p class="lead" >The project is following the <strong>Martini Glass</strong> narrative visualization structure.
           This is the final scene of this visualization story. The user is ready to explore reader driven contents
           and draw conclusions independently. User is presented with color code maps to represent poverty and heart disease data.
           In the bottom half, a state specific data is show as a bar chart. By default, bar charts show the information about
           the state of California.
           </p>
           <p class="lead"> All charts and maps are built using D3.js Version 4 library. Unlikely previous scenes, the html5 elements
                            are added and manipulated using javascript.</p>
           <h3>User Interface Events</h3>
           <p class="lead" >The buttons in the navigation bar and the Prev, Next button
              at the bottom of this page enable the User Interface events.
              User interacts by clicking on the button or menu items to navigate to various part of this story.
              Mouse hover events in the bar charts show additonal data details.
              Mouse click allows user to select a specific state in either of the two maps.

           </p>
           <p class="lead" >User is presented with helpful hints as the part of page load event. The alert can be closed by clicking on X
              or it will disappear after six seconds, allowing enough time for user to read the information.
           </p>
           <p class="lead" >The mouse hover event on the either map shows the tooltip containing additional informaton about that specific page.
           </p>
           <p class="lead" >The mouse click event on the either map causes the bar chart in the bottom half to automatically refresh and show data for the state selected in the map.
           </p>
           <h3>Annotations</h3>
             <p class="lead" >Tool tips are used as annotation in both map and bar charts.
                              By default, the bar charts for California are drawn on page load.
                              When user picks a different state, the name of selected state is annotated in the map to reflect the current selection.
                                   The labels along the X and Y axis in the charts provides additional annotations for the chart.

            </p>
            <p class="lead" >

                              When user selects a state, its name is highlighted on the map allowing user to focus on data and
                              not worry about remembering click details.
                              The bar charts and maps leverages tooltip for annotation.The poverty rate and mortality rate are show on top of bar chart in the bottom half of the screen.
                              The numbers and the bar height
                              transition dynamically as user moves from one state to another.</p>
           <h3>Triggers</h3>
           <p class="lead" >The mouse click and mouse hover events are the triggers for this page. The mouse click trigger causes map to show label of the selected state.
                            The label of previously selected state is removed and label of newly selected state is displayed.
                            Position of mouse along x and y axis is used to evaluate user position on the map/bar charts and it is used to properly position the tooltip.
                            The mouse click on navigation buttons at top or bottom of the page faciliate back and forth navigation.
                            The mouse hover event triggers rendering of the tooltip.
                            The x and y position is also used as a trigger to change opacity of the selected state in the map.
           </p>
           <h3>Parameters</h3>
           <p class="lead" >The geopath data is read from CSV and loaded as a json object and used by d3 to render US maps.
             The data is quantified into three bins to show states with low, medium or high poverty/mortality rate.
             The poverty and heart disease related data is also read from csv directly into a JSON object and passed to d3 library functions.
           <p class="lead" >The backend d3 javascript for the map passes the state information and the div information to the javascript function rendering the bar charts.
             On page load, the bar chart show the data of California. If a user clicks on a state in map, javascript function receives divID, and state id as input paramter and refreshes bar
             chart with the data for the requested state. </p>
             <p class="lead" >
             The state name and state code are passed to the javascript function to correctly label the selected state in the map as well as header of the bar charts. The state code is also
             passed as in input parameter to the javascript function to pick appropriate text colors.
             In order to show data for the selected state, the divId and state specific data is passed to the bar charts. The data binding between DOM and javaobjects faciliates seamless
             exchange of actual data items between map and corresponding bar chart.
             For example, black text is displayed on yellow background and white text is displayed on the red background.</p>
           <p class="lead" >This section is hyper linked to the previous and home section. The name of the target section is passed
                            as an input paramter to the buttons and navgiation bar items.</p>


         </div>
      </div><!-- /.container -->
    <div class="container">
      <div class="col-lg-2 text-left">
        <a href="jumpoff.html">
        <button type="button" class="btn btn-default btn-lg btn-primary">
          <span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>Prev
        </button></a>

      </div>
      <div class="col-lg-8"></div>
      <div class="col-lg-2 text-left">
      <a href="stem.html">
      <button type="button" class="btn btn-default btn-lg btn-primary">
        Home <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
      </button></a>
      </div>


     </div>

  </div>



  <footer class="footer   text-center">
    <div class="container">
      <p class="text-muted"></p>
      <strong>Designed by <a href="https://www.linkedin.com/in/akumar6/" target="_blank">Ashish Kumar</a></strong>
    </div>

  </footer>

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

  <script src="//d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://d3js.org/topojson.v2.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.24.0/d3-legend.min.js"></script>
  <script src="lib/d3-tip.js"></script>
  <script src="lib/poverty2.js"></script>

  <script>
  window.setTimeout(function() {
      $(".alert").fadeTo(500, 0).slideUp(500, function(){
          $(this).remove();
      });
  }, 6000);
  </script>
</body>
</html>
